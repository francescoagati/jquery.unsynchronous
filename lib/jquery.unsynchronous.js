/* Generated by Continuation.js v0.0.5 */
(function () {
  var slice$;
  slice$ = [].slice;
  (function () {
    var delay, aeach, amap, afilter;
    delay = function (fn) {
      var i$, args, callback, wrapper;
      args = 1 < (i$ = arguments.length - 1) ? slice$.call(arguments, 1, i$) : (i$ = 1, []), callback = arguments[i$];
      wrapper = function () {
        return callback(fn.apply(null, args));
      };
      return setTimeout(wrapper);
    };
    aeach = function (list, iterator, callback) {
      var i$, len$, el;
      i$ = 0, len$ = list.length;
      function loop_0(loop_0_cont) {
        if (i$ < len$) {
          el = list[i$];
          delay(iterator, el, function () {
            ++i$;
            loop_0(loop_0_cont);
          });
        } else {
          loop_0_cont();
        }
      }
      loop_0(function () {
        return callback();
      });
    };
    amap = function (list, iterator, callback) {
      var new_list, i$, len$, el, result;
      new_list = [];
      i$ = 0, len$ = list.length;
      function loop_1(loop_1_cont) {
        if (i$ < len$) {
          el = list[i$];
          delay(iterator, el, function () {
            result = arguments[0];
            new_list.push(result);
            ++i$;
            loop_1(loop_1_cont);
          });
        } else {
          loop_1_cont();
        }
      }
      loop_1(function () {
        return callback(new_list);
      });
    };
    afilter = function (list, iterator, callback) {
      var new_list, i$, len$, el, result;
      new_list = [];
      i$ = 0, len$ = list.length;
      function loop_2(loop_2_cont) {
        if (i$ < len$) {
          el = list[i$];
          delay(iterator, el, function () {
            result = arguments[0];
            if (result) {
              new_list.push(el);
            }
            ++i$;
            loop_2(loop_2_cont);
          });
        } else {
          loop_2_cont();
        }
      }
      loop_2(function () {
        return callback(new_list);
      });
    };
    jQuery.fn.unsynchronous = {
      delay: delay,
      amap: amap,
      afilter: afilter,
      aeach: aeach
    };
    jQuery.fn.amap = function (iterator, callback) {
      var elements;
      elements = this;
      return amap(elements, iterator, callback);
    };
    jQuery.fn.afilter = function (iterator, callback) {
      var elements;
      elements = this;
      return afilter(elements, iterator, callback);
    };
    return jQuery.fn.aeach = function (iterator, callback) {
      var elements;
      elements = this;
      return aeach(elements, iterator, callback);
    };
  }());
}.call(this));